function gItem(t){this.all=t}function eventUnify(t){return t.changedTouches?t.changedTouches[0]:t}g=function(t){if(void 0!==t)return"object"==typeof t?new gItem([t]):(all=document.querySelectorAll(t),new gItem(all))},g.click_q=new Array,g.swipe_q={up:[],down:[],left:[],right:[]},g.el=function(t){return document.getElementById(t)},gItem.prototype.html=function(t){if(void 0===t)return this.all[0].innerHTML;for(let e of this.all)e.innerHTML=t;return this},gItem.prototype.attr=function(t,e){if(void 0===e)return this.all[0].getAttribute(t);for(let o of this.all)o.setAttribute(t,e);return this},gItem.prototype.style=function(t,e){if(void 0===e)return this.style[t];for(let o of this.all)o.style[t]=e;return this},gItem.prototype.remove=function(){for(let t of this.all)t.parentElement.removeChild(t)},gItem.prototype.findUp=function(t){var e=document.querySelectorAll(t);for(_this=this;this.all[0];)for(this.all[0]=this.all[0].parentNode,xi=0;xi<e.length;xi++)if(this.all[0]&&this.all[0].isSameNode(e[xi]))return this;return _this.all=[],_this},gItem.prototype.last=function(){return this.all[this.all.length-1]},gItem.prototype.first=function(){return 0===this.all.length?null:this.all[0]},gItem.prototype.parent=function(){return this.all=[this.all[0].parentNode],this},gItem.prototype.children=function(){var t=this.all[0].firstChild;for(this.all=[];t;t=t.nextSibling)1==t.nodeType&&this.all.push(t);return this},gItem.prototype.find=function(t){return void 0!==this.all[0]&&(this.all=this.all[0].querySelectorAll(t)),this},gItem.prototype.append=function(t,e,o){for(let n of this.all){let i=document.createElement("template");if(i.innerHTML=t,n.appendChild(i.content.firstChild),void 0!==e)for(let t in e)i.content.firstChild[t]=e[t];void 0!==o&&setTimeout(function(){for(let t in o)i.content.firstChild[t]=o[t]},100)}return this},gItem.prototype.prepend=function(t,e){for(let o of this.all){let n=document.createElement("template");if(n.innerHTML=t,o.insertBefore(n.content.firstChild,o.childNodes[0]),void 0!==e)for(let t in e)n.content.firstChild[t]=e[t]}return this},gItem.prototype.addClass=function(t){for(let e of this.all)e.classList.add(t)},gItem.prototype.removeClass=function(t){for(let e of this.all)e.classList.remove(t)},gItem.prototype.toggleClass=function(t){for(let e of this.all)e.classList.toggle(t)},gItem.prototype.hasClass=function(t){for(let e of this.all)if(e.classList.contains(t))return!0;return!1},g.click=function(t,e){g.click_q[t]=e},g.swipe=function(t,e,o){g.swipe_q[e][t]=o},g.run_queries=function(t,e){for(let n in e)if(isNaN(n)){var o=document.querySelectorAll(n);for(xi of o)do{t.isSameNode(xi)&&(t.fn=e[n].bind(t),t.fn())}while(t=t.parentNode)}},g.sx=null,g.sy=null,g.swipestart=function(t){g.sx=eventUnify(t).clientX,g.sy=eventUnify(t).clientY,g.target=eventUnify(t).target},g.swipeend=function(t){if(null!==g.sx||null!==g.sy){let e=eventUnify(t).clientX-g.sx,o=eventUnify(t).clientY-g.sy;if(g.sx=null,g.sy=null,Math.abs(o)<10&&Math.abs(e)<10)return;Math.abs(o)>Math.abs(e)?(o>0&&g.run_queries(g.target,g.swipe_q.up),o<0&&g.run_queries(g.target,g.swipe_q.down)):(e>0&&g.run_queries(g.target,g.swipe_q.right),e<0&&g.run_queries(g.target,g.swipe_q.left))}},document.onclick=function(t){for(let o in g.click_q)if(isNaN(o)){var e=document.querySelectorAll(o);for(xi of e)if(t.target.isSameNode(xi))t.target.fn=g.click_q[o].bind(t.target),t.target.fn();else for(el=t.target;el=el.parentNode;)el.isSameNode(xi)&&(el.fn=g.click_q[o].bind(el),el.fn())}},document.addEventListener("touchstart",g.swipestart,!1),document.addEventListener("touchend",g.swipeend,!1),gItem.prototype.load=function(t){var e=new XMLHttpRequest,o=this;e.onreadystatechange=function(){if(4==this.readyState&&200==this.status)for(let t of o.all)t.innerHTML=this.responseText},e.open("GET",t,!0),e.send()},g.ajax=function(t){var e=new XMLHttpRequest;e.open(t.method,t.url,!0),_fn=t.fn,e.onreadystatechange=function(){4==this.readyState&&(void 0===t.type&&"json"!=t.type||(this.responseText=JSON.parse(this.responseText)),this.status>199&&this.status<300?t.fn&&t.fn(this.responseText):t.error&&t.error(this.responseText))},"object"==typeof t.data&&"Object"==t.data.constructor.name&&(t.header="application/x-www-form-urlencoded",t.data=Object.keys(t.data).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(t.data[e])).join("&")),void 0!==t.header&&e.setRequestHeader("Content-type",t.header),e.send(t.data)},g.post=function(t,e,o){g.ajax({url:t,method:"POST",header:"application/x-www-form-urlencoded",data:e,fn:o})},g.postForm=function(t,e){let o=document.getElementById(t),n=new FormData(o);g.ajax({url:o.action,method:"POST",data:n,fn:e})},g.get=function(t,e){g.ajax({url:t,method:"GET",fn:e})},g.postJSON=function(t,e,o){g.ajax({url:t,method:"POST",header:"application/x-www-form-urlencoded",data:e,fn:o,type:"json"})},g.popup=function(t,e){void 0!==e?g.dialog({body:t,class:e}):g.dialog({body:t})},g.modal=function(t){t.type="modal",g.dialog(t)},g.dialog=function(t){var e={class:"",escape:!0,body:"",title:"",foot:"",img:"",buttons:"ok",type:"",id:"gila-popup"};for(i in e)void 0===t[i]&&(t[i]=e[i]);if(closeModal="g.closeModal()","gila-popup"!=t.id&&(closeModal="g.closeModal('"+t.id+"')"),"modal"==t.type?(closebtn='<span class="closebtn" onclick="'+closeModal+'">×</span>',document.body.style.overflowY="hidden"):closebtn='<span class="closebtn" onclick="'+closeModal+'">×</span>',""!=t.title?t.title='<div class="title">'+t.title+"</div>":t.title="<div>&nbsp;</div>",""!=t.body&&(t.body='<div class="body">'+t.body+"</div>"),t.class="bg-white "+t.class,buttons="",""!=t.buttons)for(btni of t.buttons.split(" "))void 0===g.dialog.buttons[btni]?console.log("Dialog Button "+btni+" not defined"):(btn=g.dialog.buttons[btni],void 0===btn.class&&(btn.class="default"),void 0===btn.fn&&(btn.fn=""),buttons+='<button class="g-btn '+btn.class+'" onclick="g.dialog.buttons.'+btni+'.fn(this)">'+g.tr(btn.title)+"</button> ");t.foot=buttons+t.foot,""!=t.foot&&(t.foot='<div class="foot">'+t.foot+"</div>"),0==t.escape&&(closebtn=""),append="<div id='"+t.id+"' class=\""+t.class+' gila-popup">'+closebtn+t.title+t.img+t.body+t.foot+"</div>","modal"==t.type?(dsbg='<div style="position:absolute;left:0;top:0;right:0;bottom:0" onclick="'+closeModal+'"></div>',"undefined"!=t["z-index"]?zindex='style="z-index:'+t["z-index"]+'"':zindex="",g(document.body).append("<div class='gila-darkscreen'"+zindex+">"+dsbg+append+"</div>")):g(document.body).append(append)},g.closeModal=function(t=null){null==t?(t=g(".gila-popup").last())&&t.parentNode.remove():t=document.getElementById(t),g(t).parent().hasClass("gila-darkscreen")?t.parentNode.remove():t.remove(),0===g(".gila-popup").all.length&&null!=document.body&&(document.body.style.overflowY="auto")},g.dialog.buttons=[],g.dialog.buttons.ok={title:"Ok",fn:function(t){g.closeModal()}},g.alert=function(t,e,o){foot="",buttons="ok",icon="",void 0!==e&&("success"==e&&(icon="<i class='fa fa-check-circle-o fa-5x' aria-hidden='true' style='color:green'></i><br>"),"error"==e&&(icon="<i class='fa fa-times-circle-o fa-5x' aria-hidden='true' style='color:red'></i><br>"),"warning"==e&&(icon="<i class='fa fa-exclamation-triangle fa-5x' aria-hidden='true' style='color:yellow'></i><br>"),"notice"==e&&(icon="<i class='fa fa-exclamation-circle fa-5x' aria-hidden='true' style='color:blue'></i><br>")),void 0!==o&&(foot="<a class='btn' onclick='g(\"#gila-darkscreen\").remove();"+o+"'>OK</a>",buttons=""),g.dialog({body:icon+"<h2>"+t+"</h2>",class:"small text-align-center",escape:!1,buttons:buttons,foot:foot,type:"modal"})};var g_requiredGroup=new Array,g_baseUrl="res/";"undefined"==typeof requiredRes&&(requiredRes=new Array),g.require=function(t,e=function(){}){if(Array.isArray(t)){var o=g_requiredGroup.length;g_requiredGroup[o]={loaded:0,fn:e};t.length;for(r=0;r<t.length;r++)g.require(t[r],function(){gila_group_callback(t.length,o)})}else{var n=requiredRes[t];void 0===n&&(console.warn(t+" is not defined in require.js"),requiredRes[t]={wjs:t},n=requiredRes[t]),1!=n.loaded?n.dep?g.require(n.dep,function(){n.css&&g.loadCSS(g_baseUrl+n.css),n.js&&g.loadJS(n,e),n.wjs&&g.loadJS(n,e)}):(n.css&&g.loadCSS(g_baseUrl+n.css),n.js&&g.loadJS(n,e),n.wjs&&g.loadJS(n,e)):e()}},g.loadJS=function(t,e=function(){}){void 0===t.wjs?url=g_baseUrl+t.js:url=t.wjs;var o=document.createElement("script");o.type="text/javascript",1!=t.loaded?(void 0===t.callbacks&&(t.callbacks=new Array),t.callbacks.push(e),o.onload=function(){for(i in t.loaded=!0,t.callbacks)t.callbacks[i]()},o.src=url,1==t.dev&&(o.src+="?"+Math.random()),1!=t.loading&&(document.getElementsByTagName("head")[0].appendChild(o),console.log(url+" loaded"),t.loading=!0)):e()},g.loadCSS=function(t){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",t),document.getElementsByTagName("head")[0].appendChild(e)},g.loader=function(t=!0){1==t?g(document.body).append('<div class=\'gila-darkscreen gila-loader\'><img src="assets/core/ajax-loader.gif" class="centered"></div>'):g(".gila-loader").remove()},g.tr=function(t){return"undefined"!=typeof lang_array&&lang_array[t]?lang_array[t]:t},g.lazyLoad=function(){let t;for(t=document.getElementsByClassName("lazy"),i=0;i<t.length;i++){let e,o;if((o=(e=t[i]).getBoundingClientRect()).bottom>0&&o.right>0&&o.top<(window.innerHeight||document.documentElement.clientHeight)&&o.left<(window.innerWidth||document.documentElement.clientWidth)&&(e.getAttribute("data-src")&&(e.src=t[i].getAttribute("data-src"),e.removeAttribute("data-src")),e.getAttribute("data-bg")&&(e.style.background=t[i].getAttribute("data-bg"),e.removeAttribute("data-bg")),e.getAttribute("data-image")&&(e.style.backgroundImage="url("+t[i].getAttribute("data-image")+")",e.removeAttribute("data-image")),e.getAttribute("data-animation")&&(e.style.animation=t[i].getAttribute("data-animation"),e.removeAttribute("data-animation")),e.getAttribute("data-load"))){let t=new XMLHttpRequest,o=e;t.onreadystatechange=function(){4==this.readyState&&200==this.status&&(o.innerHTML=this.responseText)},t.open("GET",e.getAttribute("data-load"),!0),t.send(),e.removeAttribute("data-load")}}},gila_group_callback=function(t,e){g_requiredGroup[e].loaded++,g_requiredGroup[e].loaded==t?(g_requiredGroup[e].fn(),console.log(g_requiredGroup[e].loaded+"!")):console.log(g_requiredGroup[e].loaded)},g.click("ul.g-nav>li>a",function(){this.parentNode.classList.toggle("open"),others=g("ul.g-nav>li").all;for(let t of others)"LI"==t.tagName&&t!==this.parentNode&&t.classList.remove("open");g("ul.g-nav>li>ul>li").removeClass("open"),g(".g-nav-mobile").removeClass("display")}),g.click("ul.g-nav>li>ul>li>a",function(){this.parentNode.classList.toggle("open"),others=g("ul.g-nav>li>ul>li").all;for(let t of others)"LI"==t.tagName&&t!==this.parentNode&&t.classList.remove("open");g(".g-nav-mobile").removeClass("display")}),g.lazyLoad(),window.onload=function(){g.lazyLoad()},window.addEventListener("scroll",g.lazyLoad),window.addEventListener("touchmove",g.lazyLoad);