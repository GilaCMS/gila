function gItem(e){this.all=e}function eventUnify(e){return e.changedTouches?e.changedTouches[0]:e}g=function(e){if(void 0!==e)return"object"==typeof e?new gItem([e]):(all=document.querySelectorAll(e),new gItem(all))},g.click_q=new Array,g.swipe_q={up:[],down:[],left:[],right:[]},g.el=function(e){return document.getElementById(e)},gItem.prototype.html=function(e){if(void 0===e)return this.all[0].innerHTML;for(let t of this.all)t.innerHTML=e;return this},gItem.prototype.attr=function(e,t){if(void 0===t)return this.all[0].getAttribute(e);for(let o of this.all)o.setAttribute(e,t);return this},gItem.prototype.style=function(e,t){if(void 0===t)return this.style[e];for(let o of this.all)o.style[e]=t;return this},gItem.prototype.remove=function(){for(let e of this.all)e.parentElement.removeChild(e)},gItem.prototype.findUp=function(e){var t=document.querySelectorAll(e);for(_this=this;this.all[0];)for(this.all[0]=this.all[0].parentNode,xi=0;xi<t.length;xi++)if(this.all[0]&&this.all[0].isSameNode(t[xi]))return this;return _this.all=[],_this},gItem.prototype.last=function(){return this.all[this.all.length-1]},gItem.prototype.first=function(){return 0===this.all.length?null:this.all[0]},gItem.prototype.parent=function(){return this.all=[this.all[0].parentNode],this},gItem.prototype.children=function(){var e=this.all[0].firstChild;for(this.all=[];e;e=e.nextSibling)1==e.nodeType&&this.all.push(e);return this},gItem.prototype.find=function(e){return void 0!==this.all[0]&&(this.all=this.all[0].querySelectorAll(e)),this},gItem.prototype.append=function(e,t,o){for(let n of this.all){let a=document.createElement("template");if(a.innerHTML=e,n.appendChild(a.content.firstChild),void 0!==t)for(let e in t)a.content.firstChild[e]=t[e];void 0!==o&&setTimeout(function(){for(let e in o)a.content.firstChild[e]=o[e]},100)}return this},gItem.prototype.prepend=function(e,t){for(let o of this.all){let n=document.createElement("template");if(n.innerHTML=e,o.insertBefore(n.content.firstChild,o.childNodes[0]),void 0!==t)for(let e in t)n.content.firstChild[e]=t[e]}return this},gItem.prototype.addClass=function(e){for(let t of this.all)t.classList.add(e)},gItem.prototype.removeClass=function(e){for(let t of this.all)t.classList.remove(e)},gItem.prototype.toggleClass=function(e){for(let t of this.all)t.classList.toggle(e)},gItem.prototype.hasClass=function(e){for(let t of this.all)if(t.classList.contains(e))return!0;return!1},g.click=function(e,t){g.click_q[e]=t},g.swipe=function(e,t,o){g.swipe_q[t][e]=o},g.run_queries=function(e,t){for(let n in t)if(isNaN(n)){var o=document.querySelectorAll(n);for(xi of o)do{e.isSameNode(xi)&&(e.fn=t[n].bind(e),e.fn())}while(e=e.parentNode)}},g.sx=null,g.sy=null,g.swipestart=function(e){g.sx=eventUnify(e).clientX,g.sy=eventUnify(e).clientY,g.target=eventUnify(e).target},g.swipeend=function(e){if(null!==g.sx||null!==g.sy){let t=eventUnify(e).clientX-g.sx,o=eventUnify(e).clientY-g.sy;if(g.sx=null,g.sy=null,Math.abs(o)<10&&Math.abs(t)<10)return;Math.abs(o)>Math.abs(t)?(o>0&&g.run_queries(g.target,g.swipe_q.up),o<0&&g.run_queries(g.target,g.swipe_q.down)):(t>0&&g.run_queries(g.target,g.swipe_q.right),t<0&&g.run_queries(g.target,g.swipe_q.left))}},document.onclick=function(e){for(let o in g.click_q)if(isNaN(o)){var t=document.querySelectorAll(o);for(xi of t)if(e.target.isSameNode(xi))e.target.fn=g.click_q[o].bind(e.target),e.target.fn();else for(el=e.target;el=el.parentNode;)el.isSameNode(xi)&&(el.fn=g.click_q[o].bind(el),el.fn())}},document.addEventListener("touchstart",g.swipestart,!1),document.addEventListener("touchend",g.swipeend,!1),gItem.prototype.load=function(e){var t=new XMLHttpRequest,o=this;t.onreadystatechange=function(){if(4==this.readyState&&200==this.status)for(let e of o.all)e.innerHTML=this.responseText},t.open("GET",e,!0),t.send()},g.ajax=function(e){var t=new XMLHttpRequest;t.open(e.method,e.url,!0),_fn=e.fn,t.onreadystatechange=function(){4==this.readyState&&(void 0===e.type&&"json"!=e.type||(this.responseText=JSON.parse(this.responseText)),this.status>199&&this.status<300?e.fn&&e.fn(this.responseText):e.error&&e.error(this.responseText))},"object"==typeof e.data&&"Object"==e.data.constructor.name&&(e.header="application/x-www-form-urlencoded",e.data=Object.keys(e.data).map(t=>encodeURIComponent(t)+"="+encodeURIComponent(e.data[t])).join("&")),void 0!==e.header&&t.setRequestHeader("Content-type",e.header),t.send(e.data)},g.post=function(e,t,o){g.ajax({url:e,method:"POST",header:"application/x-www-form-urlencoded",data:t,fn:o})},g.postForm=function(e,t){let o=document.getElementById(e),n=new FormData(o);g.ajax({url:o.action,method:"POST",data:n,fn:t})},g.get=function(e,t){g.ajax({url:e,method:"GET",fn:t})},g.postJSON=function(e,t,o){g.ajax({url:e,method:"POST",header:"application/x-www-form-urlencoded",data:t,fn:o,type:"json"})},g.popup=function(e,t){void 0!==t?g.dialog({body:e,class:t}):g.dialog({body:e})},g.modal=function(e){e.type="modal",g.dialog(e)},g.dialog=function(e){var t={class:"",escape:!0,body:"",title:"",foot:"",img:"",buttons:"ok",type:"",id:"gila-popup"};for(i in t)void 0===e[i]&&(e[i]=t[i]);if(closeModal="g.closeModal()","gila-popup"!=e.id&&(closeModal="g.closeModal('"+e.id+"')"),"modal"==e.type?(closebtn='<span class="closebtn" onclick="'+closeModal+'">×</span>',document.body.style.overflowY="hidden"):closebtn='<span class="closebtn" onclick="'+closeModal+'">×</span>',""!=e.title?e.title='<div class="title">'+e.title+"</div>":e.title="<div>&nbsp;</div>",""!=e.body&&(e.body='<div class="body">'+e.body+"</div>"),e.class="bg-white "+e.class,buttons="",""!=e.buttons)for(btni of e.buttons.split(" "))void 0===g.dialog.buttons[btni]?console.log("Dialog Button "+btni+" not defined"):(btn=g.dialog.buttons[btni],void 0===btn.class&&(btn.class="default"),void 0===btn.fn&&(btn.fn=""),buttons+='<button data-id="'+btni+'" class="g-btn '+btn.class+'" onclick="g.dialog.buttons.'+btni+'.fn(this)">'+g.tr(btn.title)+"</button> ");e.foot=buttons+e.foot,""!=e.foot&&(e.foot='<div class="foot">'+e.foot+"</div>"),0==e.escape&&(closebtn=""),append="<div id='"+e.id+"' class=\""+e.class+' gila-popup">'+closebtn+e.title+e.img+e.body+e.foot+"</div>","modal"==e.type?(dsbg='<div style="position:absolute;left:0;top:0;right:0;bottom:0" onclick="'+closeModal+'"></div>',"undefined"!=e["z-index"]?zindex='style="z-index:'+e["z-index"]+'"':zindex="",g(document.body).append("<div class='gila-darkscreen'"+zindex+">"+dsbg+append+"</div>")):g(document.body).append(append)},g.closeModal=function(e=null){null==e?(e=g(".gila-popup").last())&&e.parentNode.remove():e=document.getElementById(e),g(e).parent().hasClass("gila-darkscreen")?e.parentNode.remove():e.remove(),0===g(".gila-popup").all.length&&null!=document.body&&(document.body.style.overflowY="auto")},g.dialog.buttons=[],g.dialog.buttons.ok={title:"Ok",fn:function(e){g.closeModal()}},g.alert=function(e,t,o){foot="",buttons="ok",icon="",void 0!==t&&("success"==t&&(icon="<i class='fa fa-check-circle-o fa-5x' aria-hidden='true' style='color:green'></i><br>"),"error"==t&&(icon="<i class='fa fa-times-circle-o fa-5x' aria-hidden='true' style='color:red'></i><br>"),"warning"==t&&(icon="<i class='fa fa-exclamation-triangle fa-5x' aria-hidden='true' style='color:yellow'></i><br>"),"notice"==t&&(icon="<i class='fa fa-exclamation-circle fa-5x' aria-hidden='true' style='color:blue'></i><br>")),void 0!==o&&(foot="<a class='btn' onclick='g(\"#gila-darkscreen\").remove();"+o+"'>OK</a>",buttons=""),g.dialog({body:icon+"<h2>"+e+"</h2>",class:"small text-align-center",escape:!1,buttons:buttons,foot:foot,type:"modal"})},g.snackbar=function(e){"undefined"!=typeof gSnackbar&&(gSnackbar.remove(),clearInterval(gSnackbarInterval)),g(document.body).append('<div class="g-snackbar show" id="gSnackbar">'+e+"</div>"),gSnackbarInterval=setInterval(function(){gSnackbar.className=gSnackbar.className.replace("show",""),clearInterval(gSnackbarInterval)},3e3)};var g_requiredGroup=new Array,g_baseUrl="res/";"undefined"==typeof requiredRes&&(requiredRes=new Array),g.require=function(e,t=function(){}){if(Array.isArray(e)){var o=g_requiredGroup.length;g_requiredGroup[o]={loaded:0,fn:t};e.length;for(r=0;r<e.length;r++)g.require(e[r],function(){gila_group_callback(e.length,o)})}else{var n=requiredRes[e];void 0===n&&(console.warn(e+" is not defined in require.js"),requiredRes[e]={wjs:e},n=requiredRes[e]),1!=n.loaded?n.dep?g.require(n.dep,function(){n.css&&g.loadCSS(g_baseUrl+n.css),n.js&&g.loadJS(n,t),n.wjs&&g.loadJS(n,t)}):(n.css&&g.loadCSS(g_baseUrl+n.css),n.js&&g.loadJS(n,t),n.wjs&&g.loadJS(n,t)):t()}},g.loadJS=function(e,t=function(){}){void 0===e.wjs?url=g_baseUrl+e.js:url=e.wjs;var o=document.createElement("script");1!=e.loaded?(void 0===e.callbacks&&(e.callbacks=new Array),e.callbacks.push(t),o.onload=function(){for(i in e.loaded=!0,e.callbacks)e.callbacks[i]()},o.src=url,1==e.dev&&(o.src+="?"+Math.random()),1!=e.loading&&(document.getElementsByTagName("head")[0].appendChild(o),console.log(url+" loaded"),e.loading=!0)):t()},g.loadCSS=function(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t)},g.loader=function(e=!0){1==e?g(document.body).append('<div class=\'gila-darkscreen gila-loader\'><img src="assets/core/ajax-loader.gif" class="centered"></div>'):g(".gila-loader").remove()},g.tr=function(e,t=null){return"undefined"!=typeof lang_array&&lang_array[e]?lang_array[e]:t&&g.language&&t[g.language]?t[g.language]:e},g.lazyLoad=function(){let e;for(e=document.getElementsByClassName("lazy"),i=0;i<e.length;i++){let t,o;if((o=(t=e[i]).getBoundingClientRect()).bottom>0&&o.right>0&&o.top<(window.innerHeight||document.documentElement.clientHeight)&&o.left<(window.innerWidth||document.documentElement.clientWidth)&&(t.getAttribute("data-src")&&(t.src=e[i].getAttribute("data-src"),t.removeAttribute("data-src")),t.getAttribute("data-bg")&&(t.style.background=e[i].getAttribute("data-bg"),t.removeAttribute("data-bg")),t.getAttribute("data-image")&&(t.style.backgroundImage="url("+e[i].getAttribute("data-image")+")",t.removeAttribute("data-image")),t.getAttribute("data-animation")&&(t.style.animation=e[i].getAttribute("data-animation"),t.removeAttribute("data-animation")),t.getAttribute("data-load"))){let e=new XMLHttpRequest,o=t;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&(o.innerHTML=this.responseText)},e.open("GET",t.getAttribute("data-load"),!0),e.send(),t.removeAttribute("data-load")}}},gila_group_callback=function(e,t){g_requiredGroup[t].loaded++,g_requiredGroup[t].loaded==e?(g_requiredGroup[t].fn(),console.log(g_requiredGroup[t].loaded+"!")):console.log(g_requiredGroup[t].loaded)},g.click("ul.g-nav>li>a",function(){this.parentNode.classList.toggle("open"),others=g("ul.g-nav>li").all;for(let e of others)"LI"==e.tagName&&e!==this.parentNode&&e.classList.remove("open");g("ul.g-nav>li>ul>li").removeClass("open"),g(".g-nav-mobile").removeClass("display")}),g.click("ul.g-nav>li>ul>li>a",function(){this.parentNode.classList.toggle("open"),others=g("ul.g-nav>li>ul>li").all;for(let e of others)"LI"==e.tagName&&e!==this.parentNode&&e.classList.remove("open");g(".g-nav-mobile").removeClass("display")}),g.lazyLoad(),window.onload=function(){g.lazyLoad()},window.addEventListener("scroll",g.lazyLoad),window.addEventListener("touchmove",g.lazyLoad);